{% extends "leave_layout.html" %}
{% block content %}

<div class="container">
    <div class="has-text-right">
        <a href="{{ url_for('.add_employee_data') }}" class="button is-link is-outlined">Add employee data</a>
    </div>
    <h1 class="title">Attendance for {{ date_string.strftime("%d/%m/%Y (%A)") }}</h1>

    <form method="post">

        {{ form.csrf_token }}

        <table class="table is-fullwidth is-hoverable is-striped is-narrow is-bordered">
            <thead>
                <tr>
                    <th class="has-text-centered">Date</th>
                    <th class="has-text-centered">Employee name</th>
                    <th class="has-text-centered">Employee number</th>
                    <th class="has-text-centered">Employee designation</th>
                    <th class="has-text-centered">Attendance status</th>

                </tr>
            </thead>
            <tbody>
                {% for employee_form in form.daily_attendance %}
                <tr>
                    <td class="is-vcentered has-text-centered">{{
                        employee_form.date_of_attendance.data.strftime("%d/%m/%Y") }}</td>
                    <td class="is-vcentered">{{ employee_form.employee_name.data }}</td>
                    <td class="is-vcentered has-text-centered">{{ employee_form.employee_number.data }}</td>
                    <td class="is-vcentered">{{ employee_form.employee_designation.data }}</td>
                    <td>
                        <div class="select">{{ employee_form.status_of_attendance }}</div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <div class="has-text-centered">
            <button class="button is-success" {% if leave_submitted(date_string) %} disabled
                title="Leave data already submitted to Establishment department" {% endif %}>Submit</button>
        </div>
    </form>
</div>
{% endblock content %}

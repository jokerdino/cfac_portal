{% extends "bg_layout.html" %}

{% block content %}
{% from "form_field_helpers_macro.html" import render_field_table %}
<div class="container">
    <h1 class="title">{{ title }}</h1>
    <form action="" method="post" enctype="multipart/form-data">
        {{ form.csrf_token }}
        <table class="table is-fullwidth is-hoverable">

            <tr>
                <th>{{ form.ro_code.label }}</th>
                <td>
                    {% if current_user.user_type in ["ro_user", "oo_user"] %}
                    {{ form.ro_code.data }}
                    {% elif current_user.user_type == "admin" %}
                    {{ form.ro_code(class="input") }}
                    {% endif %}
                </td>
            </tr>
            <tr>
                <th>{{ form.oo_code.label }}</th>
                <td>
                    {% if current_user.user_type in ["oo_user"] %}
                    {{ form.oo_code.data }}
                    {% elif current_user.user_type in ["ro_user","admin"] %}
                    {{ form.oo_code(class="input") }}
                    {% endif %}
                </td>
            </tr>
            {{ render_field_table(form.customer_name) }}
            {{ render_field_table(form.customer_id) }}
            {{ render_field_table(form.debit_amount) }}
            {{ render_field_table(form.credit_amount) }}
            {{ render_field_table(form.payment_id) }}
            {{ render_field_table(form.date_of_payment) }}
            {{ render_field_table(form.reason) }}
            {{ render_field_table(form.course_of_action) }}

        </table>
        <div class="has-text-centered">
            <button class="button is-primary is-big" disabled>Submit</button>
        </div>

    </form>
    {% for field, errors in form.errors.items() %}
    <div class="notification is-danger">
        {{ field }} {{ ', '.join(errors) }}
    </div>
    {% endfor %}
</div>
{% endblock content %}
